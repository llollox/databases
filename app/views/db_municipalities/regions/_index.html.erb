<%= render "layouts/header_index", :visualization => "title" %>

<div id="pagination_table">
<table class="table table-hover table-striped">
  <tr>
    <th>#</th>
    <th>Name</th>
    <th>Abbreviation</th>
    <th>Capital</th>
    <% if current_user %>
        <th></th>
        <th></th>
    <% end %>
  </tr>

<% @regions.each_with_index do |region,index| %>
  <tr>
    <td><%= index + 1 %></td>
    <td><%= link_to region.name, region, :class => "show-loading" %></td>
    <td><%= region.abbreviation %></td>
    <td><%= link_to region.capital.name, region.capital %></td>
    <% if current_user %>
        <td><%= link_to 'Edit', edit_region_path(region), 
            :class => "btn btn-primary" %></td>
        <td><%= link_to 'Destroy', region, method: :delete, 
            data: { confirm: 'Are you sure?' }, :class => "btn btn-danger" %></td>
    <% end %>
  </tr>
<% end %>
</table>
</div>
<br />